
##########################################################################################################
# Which parts to build. Assemble the application to be built according to your needs. Order matters!
##########################################################################################################
[buildout]
extends=
        profiles/versions.cfg
        profiles/defaults.cfg
        profiles/setmanager.cfg
        profiles/datashackle.cfg
        profiles/supervisor.cfg
#        profiles/nodejs.cfg
        profiles/debug.cfg
 

#########################################################################################################
# Core configuration. Overwrite settings from defaults.cfg here to match your environment.
#########################################################################################################
[database]
provider = mysql
name = datashackle
user = datashackle
password = datashackle
host = localhost


##########################################################################################################
# Supplementary configuration that may be needed depending which profiles are choosen above.
# Overwrite settings from defaults.cfg here to match your environment.
##########################################################################################################

# Turn scripting on , if you need nodejs scripting capabilities.
# [nodejs]
# scripting = On

# only necessary if extending supervisor.cfg
[supervisord]
mysql_dir = /Applications/XAMPP/xamppfiles/var/mysql
mysql_pid_file = ${supervisord:mysql_dir}/mysqld.pid
programs =  
            10 apache (startsecs=5 stopsignal=TERM startretries=1) /Applications/XAMPP/xamppfiles/bin/httpd [-D JUSTTOMAKEAPXSHAPPY -c "ErrorLog /dev/stdout" -E /Applications/XAMPP/xamppfiles/logs/error_log -k start -DFOREGROUND] true root
            20 mysql (startsecs=10 stopsignal=TERM startretries=1) ${buildout:directory}/bin/pidproxy.py [${supervisord:mysql_pid_file} /Applications/XAMPP/xamppfiles/bin/mysqld_safe --datadir=${supervisord:mysql_dir} --pid-file=${supervisord:mysql_pid_file}] true
#    30 nodejs ${buildout:bin-directory}/node true
#    40 datashackle (startsecs=20 stopsignal=TERM startretries=1) ${buildout:bin-directory}/paster [serve ${buildout:directory}/parts/etc/${settings:paster_ini}] ${buildout:directory} true
    
# eventlisteners =
#   SolrHttpOk TICK_60 ${buildout:bin-directory}/httpok [-p solr -t 20 http://${settings:host}:${ports:solr}/solr/]
#   DolmenHttpOk TICK_60 ${buildout:bin-directory}/httpok [-p setmanager -t 20 http://${settings:host}:${ports:application}/setmanager/]
#   ZeoHttpOk TICK_60 ${buildout:bin-directory}/httpok [-p zeoserver -t 20 http://${settings:host}:${ports:zeoserver}/]
